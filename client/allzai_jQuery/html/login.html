<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html> 
<head>
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
<META HTTP-EQUIV="Expires" CONTENT="0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="stylesheet" href="./../assets/plugins/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="./../assets/css/style.css" />
<link rel="stylesheet" href="./../assets/css/headers/header1.css" />
<link rel="stylesheet" href="./../assets/plugins/bootstrap/css/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="./../assets/css/style_responsive.css" />
<link rel="shortcut icon" href="favicon.ico" />        
<!-- CSS Implementing Plugins -->    
<link rel="stylesheet" href="./../assets/plugins/font-awesome/css/font-awesome.css" />
<!-- CSS Theme -->    
<link rel="stylesheet" href="./../assets/css/themes/default.css" id="style_color" />
<script type="text/javascript" src="./../assets/js/jquery-1.8.2.min.js"></script>
</head>
<body>
<div class="center" style="margin-top:50px;">	
<div class="row-fluid">

	<h3>用户登录</h3>
	<div class="input-prepend">
		<span class="add-on"><i class="icon-user"></i>
		</span> <input type="text" id="account" name="account"
			value="test@allzai.com" />
	</div>
	<div class="input-prepend">
		<span class="add-on"><i class="icon-lock"></i>
		</span> <input type="password" id="password" name="password" value="123456" />
	</div>
	<div class="input-prepend">
	<label>验证码：</label><script type="text/javascript"
		src="http://api.geetest.com/get.php?gt=de7689d1283867a3b72f3ee0da8641db"></script>
	<script>
		/* 定义一个全局的变量保存验证结果 */
		/* 未通过情况下不允许提交 */
		/* 通过:1, 未通过:0 */
		var challenge,validate,seccode;
		function gt_custom_ajax(result, selector) {
			if (result && result == '1') {
				challenge = selector(".geetest_challenge").value;
				validate = selector(".geetest_validate").value;
				seccode = selector(".geetest_seccode").value;
				//当验证成功时，获取相应input的值，并做ajax验证请求
				jQuery("#btnSubmit").removeAttr("disabled");
			  }
			  else {
				console.log(result);
			  }
		}
	
		function submitForm(){
			console.log("------>"+challenge);
			jQuery.ajax({
				  url: "http://112.124.51.168:8080/allzai_server/public/userLogin",
				  type: "post",
				  dataType:"JSONP",
				  jsonp:"callbackparam", 
				  jsonpCallback:'jsonpcallbackSuc',
				  data: {
					geetest_challenge: challenge,
					geetest_validate: validate,
					geetest_seccode: seccode,"platform":"JAVA","account":jQuery("#account").val(),"password":jQuery("#password").val(),"gender":"Male"
				  },
				  success:function(result) {
				  
					  console.log("json");
					 //var r = eval('('+data+')')
					 /* console.log(result);
					 var r = jQuery.parseJSON(result);
					 try{
					  console.log(r.info);
					 }
					 catch(e){
						 console.log("======>"+e);
					 }*/
					} 
				})
		}
		
		function jsonpcallback(data){
			console.log("--------====>"+data);
		}
	</script>
	</div>
	<div class="controls form-inline">
		<label class="checkbox"><input type="checkbox" /> 记住帐号</label>
		<input type="button" id="btnSubmit" onclick="submitForm()" disabled="disabled" class="btn-u" style="margin-left:50px;">登录</button>
	</div>
	<hr />
	<h4>忘记密码 ?</h4>
	<p>
		别担心, <a class="color-green" href="#">点击这里</a> 重置密码。
	</p>
	</div>
</div>
<!--/row-fluid-->
</body>